

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dean0731">
  <meta name="keywords" content="">
  
    <meta name="description" content="1234567891011121314# 修改密码mysqladmin -u 用户名 -p oldpswd newpswdUpdate user set password&#x3D;password(xxxx) WHERE USER &#x3D; xxxxUpdate user set password&#x3D;md5(xxx) WHERE USER &#x3D; xxxCreate database if not exst dzf">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql一些函数">
<meta property="og:url" content="https://blog.dean0731.cn/2022/01/20/cnblog/mysql/index.html">
<meta property="og:site_name" content="Dean0731&#39;s site">
<meta property="og:description" content="1234567891011121314# 修改密码mysqladmin -u 用户名 -p oldpswd newpswdUpdate user set password&#x3D;password(xxxx) WHERE USER &#x3D; xxxxUpdate user set password&#x3D;md5(xxx) WHERE USER &#x3D; xxxCreate database if not exst dzf">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224616113-188530900.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224630713-1229339359.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224637023-20268284.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225028818-1856471585.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224642199-909071253.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224647505-1667793814.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225036465-1783768946.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225049259-1250227268.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225107866-441083589.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225114471-840735920.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225103363-452303700.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225137673-719220299.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225146763-845502931.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225157773-1388150422.png">
<meta property="article:published_time" content="2022-01-20T03:16:50.000Z">
<meta property="article:modified_time" content="2022-01-20T03:16:50.000Z">
<meta property="article:author" content="Dean0731">
<meta property="article:tag" content="Mysql">
<meta property="article:tag" content="函数">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224616113-188530900.png">
  
  
  <title>Mysql一些函数 - Dean0731&#39;s site</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"blog.dean0731.cn","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dean0731&#39; Site</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Mysql一些函数">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-01-20 11:16" pubdate>
        2022年1月20日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      11k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      88 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Mysql一些函数</h1>
            
            <div class="markdown-body">
              <figure class="highlight sql"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><pre><code class="hljs sql"># 修改密码<br>mysqladmin <span class="hljs-operator">-</span>u 用户名 <span class="hljs-operator">-</span>p oldpswd newpswd<br>Update <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> password<span class="hljs-operator">=</span>password(xxxx) <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">USER</span> <span class="hljs-operator">=</span> xxxx<br>Update <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> password<span class="hljs-operator">=</span>md5(xxx) <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">USER</span> <span class="hljs-operator">=</span> xxx<br><span class="hljs-keyword">Create</span> database if <span class="hljs-keyword">not</span> exst dzf <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> utf8<br># 显示变量信息<br><span class="hljs-keyword">show</span> variables <span class="hljs-keyword">like</span> xxx<br><span class="hljs-keyword">alter</span> database name <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> utf8<br># 查询去重<br><span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> id,name ....<br># 修改数据库编码<br>my.ini dafault<span class="hljs-operator">-</span><span class="hljs-type">character</span><span class="hljs-operator">-</span><span class="hljs-keyword">set</span><span class="hljs-operator">=</span>utf8<br># 修改变编码<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> WF_ACTIONS <span class="hljs-keyword">DEFAULT</span> <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8;<br></code></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"># <span class="hljs-keyword">having</span> 用来操作 <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> x 后其他列按y分组后的每组信息,与<span class="hljs-keyword">in</span> <span class="hljs-keyword">any</span> <span class="hljs-keyword">all</span> 结合使用<br># 若比较改每小组中的集合与其他集合否相等,可转化为相同条件下数量之间的比较<br># 函数,获取最后插入的id<br><span class="hljs-keyword">select</span> last_insert_id()<br></code></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sql"># 查看列<br><span class="hljs-keyword">Show</span> columns <span class="hljs-keyword">from</span> 表名<br># 修改表列名 不能省<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> test change <span class="hljs-keyword">column</span> address address1 <span class="hljs-type">varchar</span>(<span class="hljs-number">30</span>)<br># 修改表名<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> test rename test1;<br># 添加表列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> test <span class="hljs-keyword">add</span> <span class="hljs-keyword">column</span> name <span class="hljs-type">varchar</span>(<span class="hljs-number">10</span>);<br># 删除表列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> test <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> name;<br># 修改表列类型<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> test modify address <span class="hljs-type">char</span>(<span class="hljs-number">10</span>) <span class="hljs-operator">||</span><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> test change address address <span class="hljs-type">char</span>(<span class="hljs-number">40</span>)<br># 重命名<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">old</span> rename <span class="hljs-keyword">to</span> <span class="hljs-keyword">new</span><br></code></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs sql"># 函数：<br><span class="hljs-built_in">Ceil</span>(x)	# 大于x的最小整数<br><span class="hljs-built_in">Floor</span>(x)	# 小于x的最大整数<br>Round(x)	# 最接近x的<br>Round(x,y)	# 接近x的小数保留y位，四舍五入y可为负：<br><span class="hljs-built_in">Mod</span>(x,y)	# 取余<br>Concat(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)	# 链接<span class="hljs-number">1</span>,<span class="hljs-number">2</span><br>Concat(x,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)	# 链接<span class="hljs-number">12</span> x隔开<br><span class="hljs-built_in">Lower</span>(str)	# 小写<br><span class="hljs-built_in">Upper</span>(str)	# 大写<br>Length(str)	# 长度<br>Trim，ltrim，Rtrim(str)	# 去掉右边空格<br><span class="hljs-built_in">Substring</span>(字符，开始，长度) # 截取<br><span class="hljs-keyword">Left</span>(字符，num)	# 左边num个<br>Replace(a，b)<br>Format(<span class="hljs-number">123.4567</span>,<span class="hljs-number">2</span>)<span class="hljs-operator">=</span> <span class="hljs-number">123.46</span><br>Curdate()<span class="hljs-operator">=</span>currentdate()<br>Curtime()<span class="hljs-operator">=</span><span class="hljs-built_in">current_time</span>()<br>Now()<span class="hljs-operator">=</span>sysdate() <span class="hljs-type">date</span><span class="hljs-operator">+</span><span class="hljs-type">time</span><br>Datediff(date1,date2)	# 日期差，天数<br>Date_format(<span class="hljs-type">date</span>,format)<br></code></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"># 只备份表格<br>mysqldump <span class="hljs-operator">-</span>u root <span class="hljs-operator">-</span>p student<span class="hljs-operator">&gt;</span>e:\student.sql<br># 恢复：需要先建库，使用，mysql<span class="hljs-operator">&gt;</span>source c:\\sql.sql<br><br># 备份数据与结构 加参数<br>mysqldump <span class="hljs-operator">-</span>uroot <span class="hljs-operator">-</span>p <span class="hljs-operator">-</span>B student<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs sql">#返回字符串 s 的第一个字符的 ASCII 码。<br>ASCII(s)<br># 返回 CustomerName 字段第一个字母的 ASCII 码：<br><span class="hljs-keyword">SELECT</span> ASCII(CustomerName) <span class="hljs-keyword">AS</span> NumCodeOfFirstCharFROM Customers;<br># 返回字符串 s 的字符数<br><span class="hljs-keyword">CHAR_LENGTH</span>(s) <span class="hljs-operator">||</span> <span class="hljs-keyword">CHARACTER_LENGTH</span>(s)<br># 字符串 s1,s2 等多个字符串合并为一个字符串<br>CONCAT(s1,s2...sn)<br># 同 CONCAT(s1,s2,...) 函数，但是每个字符串之间要加上 x，x 可以是分隔符<br>CONCAT_WS(x, s1,s2...sn)<br># 返回第一个字符串 s 在字符串列表(s1,s2...)中的位置<br>FIELD(s,s1,s2...)<br><span class="hljs-keyword">SELECT</span> FIELD(&quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);<br># 返回在字符串s2中与s1匹配的字符串的位置<br>FIND_IN_SET(s1,s2)<br><span class="hljs-keyword">SELECT</span> FIND_IN_SET(&quot;c&quot;, &quot;a,b,c,d,e&quot;);<br># 函数可以将数字 x 进行格式化 &quot;#,###.##&quot;, 将 x 保留到小数点后 n 位，最后一位四舍五入。<br>FORMAT(x,n)<br># 格式化数字 &quot;#,###.##&quot; 形式：<br><span class="hljs-keyword">SELECT</span> FORMAT(<span class="hljs-number">250500.5634</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">-- 输出 250,500.56</span><br><span class="hljs-keyword">INSERT</span>(s1,x,len,s2) <span class="hljs-comment">-- 字符串 s2 替换 s1 的 x 位置开始长度为 len 的字符串</span><br>#从字符串第一个位置开始的 <span class="hljs-number">6</span> 个字符替换为 runoob：<br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">INSERT</span>(&quot;google.com&quot;, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, &quot;runnob&quot;); <span class="hljs-comment">-- 输出：runoob.com</span><br>LOCATE(s1,s) <span class="hljs-comment">-- 从字符串 s 中获取 s1 的开始位置</span><br>LCASE(s) <span class="hljs-comment">-- 将字符串 s 的所有字母变成小写字母</span><br><span class="hljs-keyword">LEFT</span>(s,n) <span class="hljs-comment">-- 返回字符串 s 的前 n 个字符</span><br>LPAD(s1,len,s2) <span class="hljs-comment">-- 在字符串 s1 的开始处填充字符串 s2，使字符串长度达到 len</span><br>MID(s,n,len) <span class="hljs-comment">-- 从字符串 s 的 start 位置截取长度为 length 的子字符串，同 SUBSTRING(s,n,len)</span><br><span class="hljs-built_in">POSITION</span>(s1 <span class="hljs-keyword">IN</span> s) <span class="hljs-comment">-- 从字符串 s 中获取 s1 的开始位置</span><br>REPEAT(s,n) <span class="hljs-comment">-- 将字符串 s 重复 n 次</span><br>REVERSE(s) <span class="hljs-comment">-- 将字符串s的顺序反过来</span><br><span class="hljs-keyword">RIGHT</span>(s,n) <span class="hljs-comment">-- 返回字符串 s 的后 n 个字符</span><br>RPAD(s1,len,s2)在字符串 s1 的结尾处添加字符串 s2，使字符串的长度达到 len<br>将字符串 xx 填充到 abc 字符串的结尾处：<br><span class="hljs-keyword">SELECT</span> RPAD(<span class="hljs-string">&#x27;abc&#x27;</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;xx&#x27;</span>) <span class="hljs-comment">-- abcxx</span><br>SPACE(n) <span class="hljs-comment">-- 返回 n 个空格</span><br>STRCMP(s1,s2) <span class="hljs-comment">-- 比较字符串 s1 和 s2，如果 s1 与 s2 相等返回 0 ，如果 s1&amp;gt;s2 返回 1，如果 s1&amp;lt;s2 返回 -1</span><br>SUBSTRING_INDEX(s, delimiter, number) <span class="hljs-comment">-- 返回从字符串 s 的第 number 个出现的分隔符 delimiter 之后的子串。</span><br>  # 如果 number 是正数，返回第 number 个字符左边的字符串。<br>  # 如果 number 是负数，返回第(number 的绝对值(从右边数))个字符右边的字符串。<br><span class="hljs-keyword">SELECT</span> SUBSTRING_INDEX(<span class="hljs-string">&#x27;a*b&#x27;</span>,<span class="hljs-string">&#x27;*&#x27;</span>,<span class="hljs-number">1</span>) <span class="hljs-comment">-- a</span><br><span class="hljs-keyword">SELECT</span> SUBSTRING_INDEX(<span class="hljs-string">&#x27;a*b&#x27;</span>,<span class="hljs-string">&#x27;*&#x27;</span>,<span class="hljs-number">-1</span>)<span class="hljs-comment">-- b</span><br><span class="hljs-keyword">SELECT</span> SUBSTRING_INDEX(SUBSTRING_INDEX(<span class="hljs-string">&#x27;a*b*c*d*e&#x27;</span>,<span class="hljs-string">&#x27;*&#x27;</span>,<span class="hljs-number">3</span>),<span class="hljs-string">&#x27;*&#x27;</span>,<span class="hljs-number">-1</span>) <span class="hljs-comment">-- c</span><br>Hex(xx) # 转化<span class="hljs-number">16</span>进制<br>Unhex(xx) # 字符<br><span class="hljs-keyword">Select</span> <span class="hljs-number">0x61</span> <span class="hljs-comment">-- 直接到字符</span><br></code></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-built_in">ABS</span>(x) <span class="hljs-comment">-- 返回 x 的绝对值</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ABS</span>(<span class="hljs-number">-1</span>) <span class="hljs-comment">-- 返回1</span><br><span class="hljs-built_in">ACOS</span>(x) <span class="hljs-comment">-- 求 x 的反余弦值(参数是弧度)</span><br># 求反正弦值(参数是弧度)<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ASIN</span>(<span class="hljs-number">0.25</span>);<br><span class="hljs-built_in">ATAN</span>(x) <span class="hljs-comment">-- 求反正切值(参数是弧度)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ATAN</span>(<span class="hljs-number">2.5</span>);<br>ATAN2(n, m) <span class="hljs-comment">-- 求反正切值(参数是弧度)</span><br><span class="hljs-keyword">SELECT</span> ATAN2(<span class="hljs-number">-0.8</span>, <span class="hljs-number">2</span>);<br><span class="hljs-built_in">CEIL</span>(x)<span class="hljs-comment">-- 返回大于或等于 x 的最小整数</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CEIL</span>(<span class="hljs-number">1.5</span>) <span class="hljs-comment">-- 返回2</span><br><span class="hljs-built_in">CEILING</span>(x)<span class="hljs-comment">-- 返回大于或等于 x 的最小整数</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CEIL</span>(<span class="hljs-number">1.5</span>) <span class="hljs-comment">-- 返回2</span><br><span class="hljs-built_in">COS</span>(x)<span class="hljs-comment">-- 求余弦值(参数是弧度)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COS</span>(<span class="hljs-number">2</span>);<br>COT(x)<span class="hljs-comment">-- 求余切值(参数是弧度)</span><br><span class="hljs-keyword">SELECT</span> COT(<span class="hljs-number">6</span>);<br>DEGREES(x)<span class="hljs-comment">-- 将弧度转换为角度</span><br><span class="hljs-keyword">SELECT</span> DEGREES(<span class="hljs-number">3.1415926535898</span>) <span class="hljs-comment">-- 180</span><br>n DIV m <span class="hljs-comment">-- 整除，n 为被除数，m 为除数</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-number">10</span> DIV <span class="hljs-number">5</span>; <span class="hljs-comment">-- 2</span><br><span class="hljs-built_in">EXP</span>(x)<span class="hljs-comment">-- 返回 e 的 x 次方</span><br><br># MySQL 高级函数<br># 返回 x 的二进制编码, <span class="hljs-number">15</span> 的 <span class="hljs-number">2</span> 进制编码:<br><span class="hljs-keyword">SELECT</span> BIN(<span class="hljs-number">15</span>); <span class="hljs-comment">-- 1111</span><br><span class="hljs-type">BINARY</span>(s)<br># 将字符串 s 转换为二进制字符串<br><span class="hljs-keyword">SELECT</span> <span class="hljs-type">BINARY</span> &quot;RUNOOB&quot;; RUNOOB<br><span class="hljs-built_in">CAST</span>(x <span class="hljs-keyword">AS</span> type)<br># 转换数据类型<br># 字符串日期转换为日期：<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CAST</span>(&quot;2017-08-29&quot; <span class="hljs-keyword">AS</span> <span class="hljs-type">DATE</span>); <span class="hljs-number">2017</span><span class="hljs-number">-08</span><span class="hljs-number">-29</span><br><span class="hljs-built_in">COALESCE</span>(expr1, expr2, ...., expr_n)<br># 返回参数中的第一个非空表达式(从左向右)<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COALESCE</span>(<span class="hljs-keyword">NULL</span>, <span class="hljs-keyword">NULL</span>, <span class="hljs-keyword">NULL</span>, <span class="hljs-string">&#x27;runoob.com&#x27;</span>, <span class="hljs-keyword">NULL</span>, <span class="hljs-string">&#x27;google.com&#x27;</span>); runoob.com<br>CONNECTION_ID()<br># 返回服务器的连接数<br><span class="hljs-keyword">SELECT</span> CONNECTION_ID(); <span class="hljs-number">4292835</span><br>CONV(x,f1,f2)<br># 返回 f1 进制数变成 f2 进制数<br><span class="hljs-keyword">SELECT</span> CONV(<span class="hljs-number">15</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>); <span class="hljs-number">1111</span><br><span class="hljs-keyword">CONVERT</span>(s <span class="hljs-keyword">USING</span> cs)<br># 函数将字符串 s 的字符集变成 cs<br><span class="hljs-keyword">SELECT</span> CHARSET(<span class="hljs-string">&#x27;ABC&#x27;</span>);utf<span class="hljs-number">-8</span><br><span class="hljs-keyword">SELECT</span> CHARSET(<span class="hljs-keyword">CONVERT</span>(<span class="hljs-string">&#x27;ABC&#x27;</span> <span class="hljs-keyword">USING</span> gbk));gbk<br><span class="hljs-built_in">CURRENT_USER</span>()<br># 返回当前用户<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CURRENT_USER</span>(); guest@<span class="hljs-operator">%</span><br># 返回当前数据库名<br><span class="hljs-keyword">SELECT</span> DATABASE(); ; runoob<br>IF(expr,v1,v2) <span class="hljs-comment">-- 如果表达式 expr 成立，返回结果 v1；否则，返回结果 v2。</span><br><span class="hljs-keyword">SELECT</span> IF(<span class="hljs-number">1</span>; <span class="hljs-number">0</span>,<span class="hljs-string">&#x27;正确&#x27;</span>,<span class="hljs-string">&#x27;错误&#x27;</span>) ;正确<br><br># 如果 v1 的值不为 <span class="hljs-keyword">NULL</span>，则返回 v1，否则返回 v2。<br><span class="hljs-keyword">SELECT</span> IFNULL(<span class="hljs-keyword">null</span>,<span class="hljs-string">&#x27;Hello Word&#x27;</span>);Hello Word<br># 判断表达式是否为 <span class="hljs-keyword">NULL</span><br><span class="hljs-keyword">SELECT</span> ISNULL(<span class="hljs-keyword">NULL</span>);<span class="hljs-number">1</span><br># 返回最近生成的 AUTO_INCREMENT 值<br><span class="hljs-keyword">SELECT</span> LAST_INSERT_ID();<br># 比较两个字符串，如果字符串 expr1 与 expr2 相等 返回 <span class="hljs-keyword">NULL</span>，否则返回 expr1<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">NULLIF</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>);<br># 返回当前用户<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SESSION_USER</span>();<br>返回当前用户<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SYSTEM_USER</span>();<br># 返回当前用户<br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">USER</span>();<br># 返回数据库的版本号<br><span class="hljs-keyword">SELECT</span> VERSION(); <span class="hljs-number">5.6</span><span class="hljs-number">.34</span>s<br></code></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-built_in">FLOOR</span>(x) <span class="hljs-comment">-- 返回小于或等于 x 的最大整数</span><br>GREATEST(expr1, expr2, expr3, ...)<span class="hljs-comment">-- 返回列表中的最大值</span><br><span class="hljs-keyword">SELECT</span> GREATEST(<span class="hljs-number">3</span>, <span class="hljs-number">12</span>, <span class="hljs-number">34</span>, <span class="hljs-number">8</span>, <span class="hljs-number">25</span>); <span class="hljs-comment">-- 34</span><br># 返回以下字符串列表中的最大值：<br><span class="hljs-keyword">SELECT</span> GREATEST(&quot;Google&quot;, &quot;Runoob&quot;, &quot;Apple&quot;); <span class="hljs-comment">-- Runoob</span><br>LEAST(expr1, expr2, expr3, ...) <span class="hljs-comment">-- 返回列表中的最小值</span><br># 返回以下数字列表中的最小值：<br><span class="hljs-keyword">SELECT</span> LEAST(<span class="hljs-number">3</span>, <span class="hljs-number">12</span>, <span class="hljs-number">34</span>, <span class="hljs-number">8</span>, <span class="hljs-number">25</span>); <span class="hljs-comment">-- 3</span><br># 返回以下字符串列表中的最小值：<br><span class="hljs-keyword">SELECT</span> LEAST(&quot;Google&quot;, &quot;Runoob&quot;, &quot;Apple&quot;); <span class="hljs-comment">-- Apple</span><br># 返回 <span class="hljs-number">2</span> 的自然对数：<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LN</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">-- 0.6931471805599453</span><br><span class="hljs-built_in">LOG</span>(x) <span class="hljs-comment">-- 返回自然对数(以 e 为底的对数)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOG</span>(<span class="hljs-number">20.085536923188</span>) <span class="hljs-comment">-- 3</span><br><span class="hljs-built_in">LOG10</span>(x)<span class="hljs-comment">-- 返回以 10 为底的对数</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOG10</span>(<span class="hljs-number">100</span>) <span class="hljs-comment">-- 2</span><br>LOG2(x)<span class="hljs-comment">-- 返回以 2 为底的对数</span><br># 返回以 <span class="hljs-number">2</span> 为底 <span class="hljs-number">6</span> 的对数：<br><span class="hljs-keyword">SELECT</span> LOG2(<span class="hljs-number">6</span>); <span class="hljs-comment">-- 2.584962500721156</span><br><br>PI()<span class="hljs-comment">-- 返回圆周率(3.141593)</span><br><span class="hljs-keyword">SELECT</span> PI() <span class="hljs-comment">--3.141593</span><br>POW(x,y)<span class="hljs-comment">-- 返回 x 的 y 次方</span><br><span class="hljs-built_in">POWER</span>(x,y)<span class="hljs-comment">-- 返回 x 的 y 次方</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">POWER</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>) <span class="hljs-comment">-- 8</span><br>RADIANS(x)<span class="hljs-comment">-- 将角度转换为弧度</span><br><span class="hljs-keyword">SELECT</span> RADIANS(<span class="hljs-number">180</span>) <span class="hljs-comment">-- 3.1415926535898</span><br>RAND()<span class="hljs-comment">-- 返回 0 到 1 的随机数</span><br><span class="hljs-keyword">SELECT</span> RAND() <span class="hljs-comment">--0.93099315644334</span><br>ROUND(x)<span class="hljs-comment">-- 返回离 x 最近的整数</span><br><span class="hljs-keyword">SELECT</span> ROUND(<span class="hljs-number">1.23456</span>) <span class="hljs-comment">--1</span><br>SIGN(x)<span class="hljs-comment">-- 返回 x 的符号，x 是负数、0、正数分别返回 -1、0 和 1</span><br><span class="hljs-keyword">SELECT</span> SIGN(<span class="hljs-number">-10</span>) <span class="hljs-comment">-- (-1)</span><br><span class="hljs-built_in">SIN</span>(x)<span class="hljs-comment">-- 求正弦值(参数是弧度)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SIN</span>(RADIANS(<span class="hljs-number">30</span>)) <span class="hljs-comment">-- 0.5</span><br><span class="hljs-built_in">SQRT</span>(x)<span class="hljs-comment">-- 返回x的平方根</span><br><span class="hljs-built_in">TAN</span>(x)<span class="hljs-comment">-- 求正切值(参数是弧度)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">TAN</span>(<span class="hljs-number">1.75</span>); <span class="hljs-comment">-- -5.52037992250933</span><br><span class="hljs-keyword">TRUNCATE</span>(x,y)<span class="hljs-comment">-- 返回数值 x 保留到小数点后 y 位的值(与 ROUND 最大的区别是不会进行四舍五入)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">TRUNCATE</span>(<span class="hljs-number">1.23456</span>,<span class="hljs-number">3</span>) <span class="hljs-comment">-- 1.234</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><code class="hljs sql"># 日期函数<br>ADDDATE(d,n) <span class="hljs-comment">-- 计算起始日期 d 加上 n 天的日期</span><br><span class="hljs-keyword">SELECT</span> ADDDATE(&quot;2017-06-15&quot;, <span class="hljs-type">INTERVAL</span> <span class="hljs-number">10</span> <span class="hljs-keyword">DAY</span>);<span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-25</span><br>ADDTIME(t,n)<span class="hljs-comment">-- 时间 t 加上 n 秒的时间</span><br><span class="hljs-keyword">SELECT</span> ADDTIME(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>, <span class="hljs-number">5</span>);<span class="hljs-number">2011</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">16</span> (秒)<br>CURDATE()<span class="hljs-comment">-- 返回当前日期</span><br><span class="hljs-keyword">SELECT</span> CURDATE(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span><br><span class="hljs-built_in">CURRENT_DATE</span>()<span class="hljs-comment">-- 返回当前日期</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CURRENT_DATE</span>(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span><br><span class="hljs-built_in">CURRENT_TIME</span><span class="hljs-comment">-- 返回当前时间</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CURRENT_TIME</span>(); <span class="hljs-number">19</span>:<span class="hljs-number">59</span>:<span class="hljs-number">02</span><br><span class="hljs-built_in">CURRENT_TIMESTAMP</span>()<span class="hljs-comment">-- 返回当前日期和时间</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span> <span class="hljs-number">20</span>:<span class="hljs-number">57</span>:<span class="hljs-number">43</span><br>CURTIME()<span class="hljs-comment">-- 返回当前时间</span><br><span class="hljs-keyword">SELECT</span> CURTIME(); <span class="hljs-number">19</span>:<span class="hljs-number">59</span>:<span class="hljs-number">02</span><br><span class="hljs-type">DATE</span>()<span class="hljs-comment">-- 从日期或日期时间表达式中提取日期值</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-type">DATE</span>(&quot;2017-06-15&quot;); ; <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span><br>DATEDIFF(d1,d2)<span class="hljs-comment">-- 计算日期 d1;d2 之间相隔的天数</span><br><span class="hljs-keyword">SELECT</span> DATEDIFF(<span class="hljs-string">&#x27;2001-01-01&#x27;</span>,<span class="hljs-string">&#x27;2001-02-02&#x27;</span>); <span class="hljs-number">-32</span><br>DATE_ADD(d，<span class="hljs-type">INTERVAL</span> expr type)<span class="hljs-comment">-- 计算起始日期 d 加上一个时间段后的日期</span><br><span class="hljs-keyword">SELECT</span> ADDDATE(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>,<span class="hljs-number">1</span>); <span class="hljs-number">2011</span><span class="hljs-number">-11</span><span class="hljs-number">-12</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">11</span> <span class="hljs-comment">-- (默认是天)</span><br><span class="hljs-keyword">SELECT</span> ADDDATE(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>, <span class="hljs-type">INTERVAL</span> <span class="hljs-number">5</span> <span class="hljs-keyword">MINUTE</span>); <span class="hljs-number">2011</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">16</span>:<span class="hljs-number">11</span> <span class="hljs-comment">-- (TYPE的取值与上面那个列出来的函数类似)</span><br>DATE_FORMAT(d,f)<span class="hljs-comment">-- 按表达式 f的要求显示日期 d</span><br># <span class="hljs-operator">%</span>Y位年，<span class="hljs-operator">%</span>e 日期(<span class="hljs-number">0</span><span class="hljs-number">-31</span>), <span class="hljs-operator">%</span>M月份英文全称，<span class="hljs-operator">%</span>b 月份英文简称，<span class="hljs-operator">%</span>c 月份数字<br><span class="hljs-keyword">SELECT</span> DATE_FORMAT(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>,<span class="hljs-string">&#x27;%Y-%m-%d %r&#x27;</span>); <span class="hljs-number">2011</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">11</span> AM<br>DATE_SUB(<span class="hljs-type">date</span>,<span class="hljs-type">INTERVAL</span> expr type)<span class="hljs-comment">-- 函数从日期减去指定的时间间隔。</span><br># Orders 表中 OrderDate 字段减去 <span class="hljs-number">2</span> 天：<br><span class="hljs-keyword">SELECT</span> OrderId,DATE_SUB(OrderDate,<span class="hljs-type">INTERVAL</span> <span class="hljs-number">2</span> <span class="hljs-keyword">DAY</span>) <span class="hljs-keyword">AS</span> OrderPayDate <span class="hljs-keyword">FROM</span> Orders<br><span class="hljs-keyword">DAY</span>(d)<span class="hljs-comment">-- 返回日期值 d 的日期部分</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DAY</span>(&quot;2017-06-15&quot;); ; <span class="hljs-number">15</span><br>DAYNAME(d)<span class="hljs-comment">-- 返回日期 d 是星期几，如 Monday,Tuesday</span><br><span class="hljs-keyword">SELECT</span> DAYNAME(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>);Friday<br>DAYOFMONTH(d)<span class="hljs-comment">-- 计算日期 d 是本月的第几天</span><br><span class="hljs-keyword">SELECT</span> DAYOFMONTH(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>);<span class="hljs-number">11</span><br>DAYOFWEEK(d)<span class="hljs-comment">-- 日期 d 今天是星期几，1 星期日，2 星期一，以此类推</span><br><span class="hljs-keyword">SELECT</span> DAYOFWEEK(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>);<span class="hljs-number">6</span><br>DAYOFYEAR(d)<span class="hljs-comment">-- 计算日期 d 是本年的第几天</span><br><span class="hljs-keyword">SELECT</span> DAYOFYEAR(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>);<span class="hljs-number">315</span><br><span class="hljs-built_in">EXTRACT</span>(type <span class="hljs-keyword">FROM</span> d)<span class="hljs-comment">-- 从日期 d 中获取指定的值，type 指定返回的值。</span><br>#type可取值为：MICROSECOND，<span class="hljs-keyword">SECOND</span>，<span class="hljs-keyword">MINUTE</span>，<span class="hljs-keyword">HOUR</span>，<span class="hljs-keyword">DAY</span>，WEEK，<span class="hljs-keyword">MONTH</span>，QUARTER，<span class="hljs-keyword">YEAR</span>，SECOND_MICROSECOND，MINUTE_MICROSECOND，MINUTE_SECOND，HOUR_MICROSECOND，HOUR_SECOND，HOUR_MINUTE，DAY_MICROSECOND，DAY_SECOND，DAY_MINUTE，DAY_HOUR，YEAR_MONTH<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">EXTRACT</span>(<span class="hljs-keyword">MINUTE</span> <span class="hljs-keyword">FROM</span> <span class="hljs-string">&#x27;2011-11-1111:11:11&#x27;</span>) ; <span class="hljs-number">11</span><br>FROM_DAYS(n)<span class="hljs-comment">-- 计算从 0000 年 1 月 1 日开始 n 天后的日期</span><br><span class="hljs-keyword">SELECT</span> FROM_DAYS(<span class="hljs-number">1111</span>); <span class="hljs-number">0003</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span><br><span class="hljs-keyword">HOUR</span>(t)<span class="hljs-comment">-- 返回 t 中的小时值</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">HOUR</span>(<span class="hljs-string">&#x27;1:2:3&#x27;</span>); <span class="hljs-number">1</span><br>LAST_DAY(d)<span class="hljs-comment">-- 返回给给定日期的那一月份的最后一天</span><br>SELECTLAST_DAY(&quot;2017-06-20&quot;); <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span><br><span class="hljs-built_in">LOCALTIME</span>()<span class="hljs-comment">-- 返回当前日期和时间</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOCALTIME</span>(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span> <span class="hljs-number">20</span>:<span class="hljs-number">57</span>:<span class="hljs-number">43</span><br><span class="hljs-built_in">LOCALTIMESTAMP</span>()<span class="hljs-comment">-- 返回当前日期和时间</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOCALTIMESTAMP</span>(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span> <span class="hljs-number">20</span>:<span class="hljs-number">57</span>:<span class="hljs-number">43</span><br>MAKEDATE(<span class="hljs-keyword">year</span>, <span class="hljs-keyword">day</span><span class="hljs-operator">-</span><span class="hljs-keyword">of</span><span class="hljs-operator">-</span><span class="hljs-keyword">year</span>)<span class="hljs-comment">-- 基于给定参数年份 year 和所在年中的天数序号 day-of-year 返回一个日期</span><br><span class="hljs-keyword">SELECT</span> MAKEDATE(<span class="hljs-number">2017</span>, <span class="hljs-number">3</span>); <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-03</span><br>MAKETIME(<span class="hljs-keyword">hour</span>, <span class="hljs-keyword">minute</span>, <span class="hljs-keyword">second</span>)<span class="hljs-comment">-- 组合时间，参数分别为小时、分钟、秒</span><br><span class="hljs-keyword">SELECT</span> MAKETIME(<span class="hljs-number">11</span>, <span class="hljs-number">35</span>, <span class="hljs-number">4</span>); <span class="hljs-number">11</span>:<span class="hljs-number">35</span>:<span class="hljs-number">04</span><br>MICROSECOND(<span class="hljs-type">date</span>)<span class="hljs-comment">-- 返回日期参数所对应的微秒数</span><br><span class="hljs-keyword">SELECT</span> MICROSECOND(&quot;2017-06-20 09:34:00.000023&quot;); <span class="hljs-number">23</span><br><span class="hljs-keyword">MINUTE</span>(t)<span class="hljs-comment">-- 返回 t 中的分钟值</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">MINUTE</span>(<span class="hljs-string">&#x27;1:2:3&#x27;</span>); <span class="hljs-number">2</span><br>MONTHNAME(d)<span class="hljs-comment">-- 返回日期当中的月份名称，如 Janyary</span><br><span class="hljs-keyword">SELECT</span> MONTHNAME(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>); November<br><span class="hljs-keyword">MONTH</span>(d)<span class="hljs-comment">-- 返回日期d中的月份值，1 到 12</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">MONTH</span>(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>);<span class="hljs-number">11</span><br>NOW()<span class="hljs-comment">-- 返回当前日期和时间</span><br><span class="hljs-keyword">SELECT</span> NOW(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span> <span class="hljs-number">20</span>:<span class="hljs-number">57</span>:<span class="hljs-number">43</span><br>PERIOD_ADD(<span class="hljs-keyword">period</span>, number)<br>为年<span class="hljs-operator">-</span>月组合日期添加一个时段<br><span class="hljs-keyword">SELECT</span> PERIOD_ADD(<span class="hljs-number">201703</span>, <span class="hljs-number">5</span>); ; <span class="hljs-number">201708</span><br>PERIOD_DIFF(period1, period2)<span class="hljs-comment">-- 返回两个时段之间的月份差值</span><br><span class="hljs-keyword">SELECT</span> PERIOD_DIFF(<span class="hljs-number">201710</span>, <span class="hljs-number">201703</span>);<span class="hljs-number">7</span><br>QUARTER(d)<span class="hljs-comment">-- 返回日期d是第几季节，返回 1 到 4</span><br><span class="hljs-keyword">SELECT</span> QUARTER(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>); <span class="hljs-number">4</span><br><span class="hljs-keyword">SECOND</span>(t)<span class="hljs-comment">-- 返回 t 中的秒钟值</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">SECOND</span>(<span class="hljs-string">&#x27;1:2:3&#x27;</span>); <span class="hljs-number">3</span><br>SEC_TO_TIME(s)<span class="hljs-comment">-- 将以秒为单位的时间 s 转换为时分秒的格式</span><br><span class="hljs-keyword">SELECT</span> SEC_TO_TIME(<span class="hljs-number">4320</span>); <span class="hljs-number">01</span>:<span class="hljs-number">12</span>:<span class="hljs-number">00</span><br>STR_TO_DATE(string, format_mask)<span class="hljs-comment">-- 将字符串转变为日期</span><br><span class="hljs-keyword">SELECT</span> STR_TO_DATE(&quot;August 102017&quot;, &quot;%M %d %Y&quot;); <span class="hljs-number">2017</span><span class="hljs-number">-08</span><span class="hljs-number">-10</span><br>SUBDATE(d,n)<span class="hljs-comment">-- 日期 d 减去 n 天后的日期</span><br><span class="hljs-keyword">SELECT</span> SUBDATE(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>,<span class="hljs-number">1</span>);<span class="hljs-number">2011</span><span class="hljs-number">-11</span><span class="hljs-number">-10</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">11</span> (默认是天)<br>SUBTIME(t,n)<span class="hljs-comment">-- 时间 t 减去 n 秒的时间</span><br><span class="hljs-keyword">SELECT</span> SUBTIME(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>,<span class="hljs-number">5</span>);<span class="hljs-number">2011</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">06</span> (秒)<br>SYSDATE()<span class="hljs-comment">-- 返回当前日期和时间</span><br><span class="hljs-keyword">SELECT</span> SYSDATE(); <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-19</span> <span class="hljs-number">20</span>:<span class="hljs-number">57</span>:<span class="hljs-number">43</span><br><span class="hljs-type">TIME</span>(expression)<span class="hljs-comment">-- 提取传入表达式的时间部分</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-type">TIME</span>(&quot;19:30:10&quot;);  <span class="hljs-number">19</span>:<span class="hljs-number">30</span>:<span class="hljs-number">10</span><br>TIME_FORMAT(t,f)<span class="hljs-comment">-- 按表达式 f 的要求显示时间 t</span><br><span class="hljs-keyword">SELECT</span> TIME_FORMAT(<span class="hljs-string">&#x27;11:11:11&#x27;</span>,<span class="hljs-string">&#x27;%r&#x27;</span>)<span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">11</span> AM<br>TIME_TO_SEC(t)<span class="hljs-comment">-- 将时间 t 转换为秒</span><br><span class="hljs-keyword">SELECT</span> TIME_TO_SEC(<span class="hljs-string">&#x27;1:12:00&#x27;</span>); <span class="hljs-number">4320</span><br>TIMEDIFF(time1, time2)<span class="hljs-comment">-- 计算时间差值</span><br><span class="hljs-keyword">SELECT</span> TIMEDIFF(&quot;13:10:11&quot;,&quot;13:10:10&quot;); <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01</span><br><span class="hljs-type">TIMESTAMP</span>(expression, <span class="hljs-type">interval</span>)<span class="hljs-comment">-- 单个参数时，函数返回日期或日期时间表达式；有2个参数时，将参数加和</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-type">TIMESTAMP</span>(&quot;2017-07-23&quot;,&quot;13:10:11&quot;); <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-23</span> <span class="hljs-number">13</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span><br>TO_DAYS(d)<span class="hljs-comment">-- 计算日期 d 距离 0000 年 1 月 1 日的天数</span><br><span class="hljs-keyword">SELECT</span> TO_DAYS(<span class="hljs-string">&#x27;0001-01-01 01:01:01&#x27;</span>); <span class="hljs-number">366</span><br>WEEK(d)<span class="hljs-comment">-- 计算日期 d 是本年的第几个星期，范围是 0 到 53</span><br><span class="hljs-keyword">SELECT</span> WEEK(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>);<span class="hljs-number">45</span><br>WEEKDAY(d)<span class="hljs-comment">-- 日期 d 是星期几，0 表示星期一，1 表示星期二</span><br><span class="hljs-keyword">SELECT</span> WEEKDAY(&quot;2017-06-15&quot;); <span class="hljs-number">3</span><br>WEEKOFYEAR(d)<span class="hljs-comment">-- 计算日期 d 是本年的第几个星期，范围是 0 到 53</span><br><span class="hljs-keyword">SELECT</span> WEEKOFYEAR(<span class="hljs-string">&#x27;2011-11-11 11:11:11&#x27;</span>); <span class="hljs-number">45</span><br><span class="hljs-keyword">YEAR</span>(d)<span class="hljs-comment">-- 返回年份</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">YEAR</span>(&quot;2017-06-15&quot;);<span class="hljs-number">2017</span><br>YEARWEEK(<span class="hljs-type">date</span>, mode)<span class="hljs-comment">-- 返回年份及第几周(0到53)，mode 中 0 表示周天，1表示周一，以此类推</span><br><span class="hljs-keyword">SELECT</span> YEARWEEK(&quot;2017-06-15&quot;); <span class="hljs-number">201724</span><br></code></pre></td></tr></table></figure>

<p>更多函数：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/evExZTlE8A499L33-K8dMQ">https://mp.weixin.qq.com/s/evExZTlE8A499L33-K8dMQ</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224616113-188530900.png" srcset="/img/loading.gif" lazyload><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224630713-1229339359.png" srcset="/img/loading.gif" lazyload alt="mysqld"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224637023-20268284.png" srcset="/img/loading.gif" lazyload alt="注释"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225028818-1856471585.png" srcset="/img/loading.gif" lazyload alt="权限表"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224642199-909071253.png" srcset="/img/loading.gif" lazyload alt="外键约束"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921224647505-1667793814.png" srcset="/img/loading.gif" lazyload alt="内联注释"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225036465-1783768946.png" srcset="/img/loading.gif" lazyload alt="账户管理"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225049259-1250227268.png" srcset="/img/loading.gif" lazyload alt="用户"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225107866-441083589.png" srcset="/img/loading.gif" lazyload alt="权限"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225114471-840735920.png" srcset="/img/loading.gif" lazyload alt="回收权限"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225103363-452303700.png" srcset="/img/loading.gif" lazyload alt="授权"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225137673-719220299.png" srcset="/img/loading.gif" lazyload alt="错误日志"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225146763-845502931.png" srcset="/img/loading.gif" lazyload alt="查询日志"><br><img src="https://cdn.jsdelivr.net/gh/Dean0731/File@main//image/1333782-20190921225157773-1388150422.png" srcset="/img/loading.gif" lazyload alt="慢日志"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Mysql/">Mysql</a>
                    
                      <a class="hover-with-bg" href="/tags/%E5%87%BD%E6%95%B0/">函数</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/01/20/cnblog/SQL%E4%BC%98%E5%8C%96/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Sql</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/01/20/cnblog/firewall/">
                        <span class="hidden-mobile">Firewall</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
